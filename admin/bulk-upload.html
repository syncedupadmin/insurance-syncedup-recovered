<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulk Upload - SyncedUp Insurance</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 2rem; }
        .nav { display: flex; gap: 2rem; padding: 0 2rem; background: white; border-bottom: 1px solid #e2e8f0; overflow-x: auto; }
        .nav a { padding: 1rem; text-decoration: none; color: #2d3748; white-space: nowrap; }
        .nav a.active { color: #667eea; border-bottom: 2px solid #667eea; }
        .container { max-width: 1200px; margin: 2rem auto; padding: 0 2rem; }
        .card { background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .upload-zone { border: 2px dashed #cbd5e0; padding: 3rem; text-align: center; border-radius: 8px; margin: 2rem 0; }
        .upload-zone.dragover { background: #edf2f7; border-color: #667eea; }
        .btn { padding: 0.75rem 1.5rem; background: #667eea; color: white; border: none; border-radius: 6px; cursor: pointer; }
        .btn:hover { background: #5a67d8; }
        .btn-secondary { background: #718096; }
        .template-section { margin: 2rem 0; padding: 1rem; background: #f7fafc; border-radius: 8px; }
        input[type="file"] { display: none; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Bulk User Upload</h1>
    </div>
    <nav class="nav">
        <a href="/admin/">Dashboard</a>
        <a href="/admin/agents.html">Agents</a>
        <a href="/admin/bulk-upload.html" class="active">Bulk Upload</a>
        <a href="/admin/licensing.html">Licensing</a>
        <a href="/admin/commissions.html">Commissions</a>
        <a href="/admin/commission-settings.html">Commission Settings</a>
        <a href="/admin/reports.html">Reports</a>
        <a href="/admin/settings.html">Settings</a>
    </nav>
    <div class="container">
        <div class="card">
            <h2>Upload Multiple Users at Once</h2>
            <div class="template-section">
                <h3>Step 1: Download Template</h3>
                <p>Use our CSV template to ensure proper formatting</p>
                <button class="btn btn-secondary" onclick="downloadTemplate()">Download CSV Template</button>
            </div>
            <div class="upload-zone" id="uploadZone">
                <h3>Step 2: Upload Your CSV</h3>
                <p>Drag and drop your CSV file here or click to browse</p>
                <input type="file" id="fileInput" accept=".csv">
                <button class="btn" onclick="document.getElementById('fileInput').click()">Choose File</button>
            </div>
            <div id="preview" style="display: none;">
                <h3>Preview</h3>
                <p id="fileInfo"></p>
                <button class="btn" onclick="uploadUsers()">Upload Users</button>
            </div>
        </div>
    </div>
    <script>
        const uploadZone = document.getElementById('uploadZone');
        const fileInput = document.getElementById('fileInput');
        
        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.classList.add('dragover');
        });
        
        uploadZone.addEventListener('dragleave', () => {
            uploadZone.classList.remove('dragover');
        });
        
        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
            handleFile(e.dataTransfer.files[0]);
        });
        
        fileInput.addEventListener('change', (e) => {
            handleFile(e.target.files[0]);
        });
        
        function handleFile(file) {
            if (file && file.type === 'text/csv') {
                document.getElementById('preview').style.display = 'block';
                document.getElementById('fileInfo').textContent = `File: ${file.name} (${file.size} bytes)`;
            }
        }
        
        function downloadTemplate() {
            const csv = 'name,email,agent_code,role\nJohn Doe,john@example.com,JD001,agent\nJane Smith,jane@example.com,JS002,agent';
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'user_upload_template.csv';
            a.click();
        }
        
        function uploadUsers() {
            alert('Upload functionality will be connected to backend');
        }
    </script>
</body>
</html>
